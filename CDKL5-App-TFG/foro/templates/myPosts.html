{% extends 'base.html' %}
{% load i18n %}
{% block content %}

<script src="https://code.jquery.com/jquery-3.6.0.js"></script>
<script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.min.js"></script>

<script>
$( function() {
  $( "#accordion" ).accordion({
    collapsible: true
});
} );
</script>

<div class="container">
    {% if messages %}
      {% for message in messages %}
          <div class="alert {{ message.tags }} alert-dismissible fade show" role="alert">
            {{ message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close" onclick="onButtonPress()"></button>
          </div>
      {% endfor %}
    {% endif %}

    {% if data %}
      <div id="accordion">
        {% for post in data %}
          <div class="accordion-title">
            <h3>{{ post.Titulo }}</h3><!--<p>[by {{ post.Creador.email }}]</p>-->
          </div>
          <div class="accordion-text">
            <p>{{ post.Texto }}</p>
            <p>{{ post.FechaCreacion }}</p>
            <button class="btn btn-secondary" onclick="location.href='/foro/edit/{{ post.id }}'">Editar</button>
            <button class="btn btn-danger" onclick="location.href='/foro/delete/{{ post.id }}'">Borrar</button>
          </div>
        {% endfor %}
      </div>

    {% else %}
      <div>
        <p/> No hay entradas de foro disponibles. Cree la suya propia!
      </div>
  {% endif %}

  <div class="button-space">
    <button class="btn btn-secondary" onclick="location.href='/foro/new'">+</button><!--<label class="plus"></label></button>-->
  </div>
</div>

{% endblock content %}